<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>UI结构文档</title>
<meta name="description" content="">
<meta name="keywords" content="">
<link href="../src/css/bootstrap.min.css" rel="stylesheet">
<script src="../src/js/jquery-2.0.2.min.js"></script>
<!-- <script src="../src/js/jquery-1.7.2.min.js"></script> -->
<script src="../src/js/jquery-migrate-1.2.1.min.js"></script>
<!-- <script src="../src/js/bootstrap.min.js"></script> -->
<script>
	// $('#img3').load(function(){
	// 	alert(this.src);
	// });
	// $('#img3').on('load',function(){
	// 	alert(1);
	// 	console.log(1111);
	// });
// document.onreadystatechange = function () {  
// 		console.log(document.readyState);
//         if(document.readyState=="complete") {            
//             var img = document.getElementById('img2');  
             
//             if(img.addEventListener){  
//                 img.addEventListener('load',function(){
//                 	alert('ok');
//                 },false);  
                  
//             }else if(img.attachEvent){  
//                 img.attachEvent('onload',function(){
//                 	alert('ok2');
//                 });    
                  
//             }          
//         }     
//     }   
	$(function(){
		// $('#img3').on('load',function(){
		// 	alert(1);
		// 	console.log(1111);
		// });
		// setTimeout(function(){
		// 	$('#img').remove();

			// $('#img1').attr('src','http://img13.360buyimg.com/da/g13/M02/01/15/rBEhU1HAHGwIAAAAAADenMZiZxAAAAUuANJCOkAAN60638.jpg');
			// $('#img').html('<img id="img3" src="http://img13.360buyimg.com/da/g13/M02/01/15/rBEhU1HAHGwIAAAAAADenMZiZxAAAAUuANJCOkAAN60638.jpg" alt="">');
	    // },5000);
	    $('body').empty();
	    setTimeout(function(){
	    	$('body').append('<div id="img"><img id="img3" src="http://img13.360buyimg.com/da/g13/M02/01/15/rBEhU1HAHGwIAAAAAADenMZiZxAAAAUuANJCOkAAN60638.jpg" alt=""></div>');
	    },5000);
	    setTimeout(function(){
	    	$('body').append('<div id="img4">aaa</div>');
	    },1000);
	     setTimeout(function(){
	    	$('body').append('<div id="img5">bbb</div>');
	    },2000);
	});
	// $('.img img').each(function(){
	// 	var d = this;
	// 	d.onload = function(){
	// 		alert('ok');
	// 	};
	// });
// window.onload = function(){
	// document.getElementById('img1').addEventListener('onload', function(){
		 // alert('Node: status_hide');
	 // }, true);   //监听DIV#status_hide节点
// }
	
	// var _img = document.getElementById('img');
	// _img.onload = _img.onreadystatechange = function() {
	// 	    if (!this.readyState || this.readyState === "loaded" || this.readyState === "complete") {
	// 	        alert("加载成功！");
	// 	    }
	// 	};
	// document.onreadystatechange = function () {  
	// 	console.log(document.readyState);
 //        if(document.readyState=="complete") {            
 //            var img = document.getElementById('img1');  
             
 //            if(img.addEventListener){  
 //                img.addEventListener('load',function(){
 //                	alert('ok');
 //                },false);  
                  
 //            }else if(img.attachEvent){  
 //                img.attachEvent('onload',function(){
 //                	alert('ok2');
 //                });    
                  
 //            }          
 //        }     
 //    }     
function getStatus(dom){
	var d = dom;
	var arr = dom.split(',');
	var len = arr.length;
	// console.log(len);
	var i = 0;
	
	var j = 0;

	var c = clearInterval(a);
	
	var a = setInterval(function(){

		i++;
		// d = $(dom);
		if($(dom).length == len){
			alert('loaded');
			i = 0;
			clearInterval(a);
			return false;
		}else{
			console.log(i);
		}
	},500);

}
 getStatus('#img3,#img4,#img5');

</script>
</head>
<body>
	<div class="container">
		<div class="navbar">
		  <div class="navbar-inner">
		    <a class="brand" href="#">Title</a>
		    <ul class="nav">
		      <li class="active"><a href="#">首页</a></li>
		      <li><a href="#">Link</a></li>
		      <li><a href="#">Link</a></li>
		    </ul>
		  </div>
		</div>
	</div>
    <div class="container container-fluid">

	  <div class="row-fluid">
	  	
	    <div class="span2">
	      <!--Sidebar content-->
	    </div>
	    <div class="span10">
	    	
	      <!--Body content-->
	    </div>
	  </div>
	</div>
	<div id="img" class="img">
	    		<img id="img1" src="http://b.zol-img.com.cn/desk/bizhi/image/1/960x600/1347791943573.jpg" alt="">
	    		<img id="img2" src="http://b.zol-img.com.cn/desk/bizhi/image/1/960x600/1348886478475.jpg" alt="">
	    	</div>
	<!-- 用户头像组件 -->
	<div class="avatar">
		<a href="" class="prev"></a>
		<ul>
			<li><img src="" alt=""><a href="" class="ui_username"></a></li>
			<li><img src="" alt=""><a href="" class="ui_username"></a></li>
			<li><img src="" alt=""><a href="" class="ui_username"></a></li>
			<li><img src="" alt=""><a href="" class="ui_username"></a></li>
			<li><img src="" alt=""><a href="" class="ui_username"></a></li>
		</ul>
		<a href="" class="next"></a>
	</div>
	<script>
		// 先加载模块文件
		UI.add('avatar')
		// 调用模块
		.use('avatar', function(){
			// 用户头像鼠标划过加载用户信息
			// 多用户可左右切换
		});
	</script>
</body>
</html>